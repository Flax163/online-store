{"version":3,"sources":["onlineStore.js","dialog/signIn/signIn.js","model/curentUser.js","component/cart/cart.js","component/about/about.js","service/AuthorizationService.js","service/CartService.js","service/CategoryService.js","service/OfferService.js","component/offersInCategories/offersInCategories.js","component/topMenu/topMenu.js","component/welcome/welcome.js","component/detailOffer/detailOffer.js"],"names":["angular","module","config","$locationProvider","html5Mode","value","component","template","$routeConfig","path","name","useAsDefault","SignInDialog","authorizationService","$cookieStore","currentUser","ctrl","this","authorization","user","authData","login","password","save","data","isAuthorization","$","modal","put","authorizationMessage","controller","factory","notAuthorization","CartComponent","cartService","$routerOnActivate","next","offersInCart","query","$resource","OffersInCategoriesComponent","offerService","categories","idCategory","params","id","TopMenuComponent","categoryService","$cookies","$onInit","userInCookies","get","undefined","singOut","remove","DetailOfferComponent","offerDetail","idOffer"],"mappings":"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","file":"application.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular.module('onlineStore', ['ngComponentRouter', 'ngResource', 'ngCookies'])\n        .config(function($locationProvider) {\n            $locationProvider.html5Mode(true);\n        })\n        .value('$routerRootComponent', 'onlineStore')\n        .component('onlineStore', {\n            templateUrl: 'onlineStore.html',\n            $routeConfig: [\n                {path: '/', name: 'Welcome', component: 'welcome', useAsDefault: true},\n                {path: '/category/:id', name: 'OffersInCategories', component: 'offersInCategories'},\n                {path: '/offer/:id', name: 'DetailOffer', component: 'detailOffer'},\n                {path: '/about', name: 'About', component: 'about'},\n                {path: '/cart', name:'Cart', component: 'cart'}\n            ]\n        })\n})();","(function() {\n    \"use strict\";\n\n    function SignInDialog(authorizationService, $cookieStore, currentUser) {\n        var ctrl = this;\n        this.authorization = function(user) {\n            var authData = {login: user.login, password: user.password};\n            authorizationService.save(authData, function(data) {\n                if (data.isAuthorization === true)\n                {\n                    $('#signInDialog').modal(\"hide\");\n                    $cookieStore.put('user', authData);\n                    ctrl.authorizationMessage = '';\n                    currentUser.authorization();\n                }\n                else\n                {\n                    ctrl.authorizationMessage = 'Не удалось авторизоваться';\n                }\n            });\n        };\n    }\n\n    angular.module('onlineStore')\n        .component('signInDialog', {\n            templateUrl: 'signIn.html',\n            controller: ['authorizationService', '$cookieStore', 'currentUser', SignInDialog]\n        });\n})();","(function() {\n    'use strict';\n\n    angular.module('onlineStore')\n        .factory('currentUser', function() {\n            var currentUser = {};\n            var isAuthorization = false;\n            currentUser.isAuthorization = function () {\n                return isAuthorization;\n            };\n            currentUser.authorization = function () {\n                isAuthorization = true;\n            };\n            currentUser.notAuthorization = function () {\n                isAuthorization = false;\n            };\n            return currentUser;\n        })\n})();","(function () {\n    'use strict';\n    function CartComponent(cartService) {\n        this.$routerOnActivate = function(next) {\n            this.offersInCart = cartService.query();\n        };\n    }\n\n    angular.module('onlineStore')\n        .component('cart', {\n            templateUrl: 'cart.html',\n            controller: ['cartService', CartComponent]\n        })\n})();","(function () {\n    'use strict';\n\n    angular.module('onlineStore')\n        .component('about', {\n            templateUrl: 'about.html'\n        })\n})();","(function() {\n\n    angular.module('onlineStore')\n        .factory('authorizationService', ['$resource',\n            function($resource) {\n                return $resource('/rest/authorization', {}, {});\n        }])\n})();","(function() {\n\n    angular.module('onlineStore')\n        .factory('cartService', ['$resource',\n            function($resource) {\n                return $resource('rest/cart', {}, {});\n            }\n        ])\n})();","(function() {\n\n    angular.module('onlineStore')\n        .factory('categoryService', ['$resource',\n            function($resource) {\n                return $resource('rest/category/:idCategory', {}, {});\n            }\n        ])\n})();","(function() {\n    'use strict';\n\n    angular.module('onlineStore')\n        .factory('offerService', ['$resource',\n            function($resource) {\n                return $resource('rest/category/:idCategory/offer/:idOffer', {}, {});\n            }\n        ])\n\n})();","(function () {\n    'use strict';\n\n    function OffersInCategoriesComponent(offerService) {\n        this.$routerOnActivate = function(next) {\n            this.categories = offerService.query({idCategory: next.params.id});\n        };\n    }\n\n    angular.module('onlineStore')\n        .component('offersInCategories', {\n            templateUrl: 'offersInCategories.html',\n            controller: ['offerService', OffersInCategoriesComponent]\n        })\n})();","(function () {\n    'use strict';\n\n    function TopMenuComponent(categoryService, authorizationService, $cookies, currentUser) {\n        var ctrl = this;\n        ctrl.currentUser = currentUser;\n        this.categories = categoryService.query();\n        this.$onInit = function() {\n            var userInCookies = $cookies.get('user');\n            if (userInCookies !== undefined) {\n                authorizationService.save(userInCookies, function () {\n                    ctrl.currentUser.authorization();\n                });\n            }\n        };\n\n        this.singOut = function() {\n            ctrl.currentUser.notAuthorization();\n            $cookies.remove('user', {});\n        }\n    }\n\n    angular.module('onlineStore')\n        .component('topMenu', {\n            templateUrl: 'topMenu.html',\n            controller: ['categoryService', 'authorizationService', '$cookies', 'currentUser', TopMenuComponent]\n        });\n})();","(function(){\n\n    angular.module('onlineStore')\n        .component('welcome', {\n            templateUrl: 'welcome.html'\n        });\n})();","(function () {\n    'use strict';\n\n    function DetailOfferComponent(offerService) {\n        this.$routerOnActivate = function(next) {\n            this.offerDetail = offerService.get({idOffer: next.params.idOffer});\n        };\n    }\n\n    angular.module('onlineStore')\n        .component('detailOffer', {\n            templateUrl: 'detailOffer.html',\n            controller: ['offerService', DetailOfferComponent]\n        })\n})();\n"],"sourceRoot":"/source/"}